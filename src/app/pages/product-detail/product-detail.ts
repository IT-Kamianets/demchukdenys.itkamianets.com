import { Component, OnInit } from '@angular/core';
import { ActivatedRoute, RouterLink } from '@angular/router';
import { DecimalPipe } from '@angular/common';
import { Meta, Title } from '@angular/platform-browser';

@Component({
  selector: 'app-product-detail',
  imports: [RouterLink, DecimalPipe],
  templateUrl: './product-detail.html',
  styles: [],
})
export class ProductDetailPage implements OnInit {
  product: any = null;

  private products = [
    {
      id: 1,
      title: 'Кухня "Модерн"',
      description: 'Сучасна кухня з матовими фасадами та кварцовою стільницею.',
      fullDescription: 'Кухня "Модерн" — це втілення сучасного дизайну та функціональності. Матові фасади з МДФ покриті високоякісною фарбою, що не залишає відбитків пальців. Стільниця виготовлена з натурального кварцу товщиною 30 мм — надзвичайно стійка до подряпин, плям та високих температур. Вбудована техніка Bosch гармонійно інтегрована у загальний дизайн. Система "push-to-open" дозволяє відкривати шафи без ручок, зберігаючи чисту лінію фасадів.',
      price: 85000,
      category: 'kitchen',
      image: 'img/product/1.jpg',
      specs: [
        { label: 'Матеріал фасадів', value: 'МДФ, матова фарба' },
        { label: 'Стільниця', value: 'Натуральний кварц, 30 мм' },
        { label: 'Фурнітура', value: 'Blum (Австрія)' },
        { label: 'Довжина', value: '3.2 м' },
        { label: 'Гарантія', value: '5 років' },
        { label: 'Термін виготовлення', value: '30-40 робочих днів' },
      ],
      features: ['Система push-to-open', 'LED-підсвітка робочої зони', 'Вбудована техніка Bosch', 'Висувні ящики з доводчиками'],
    },
    {
      id: 2,
      title: 'Кухня "Класика"',
      description: 'Класична кухня з фасадами з масиву дуба та різьбленням.',
      fullDescription: 'Кухня "Класика" — це розкіш натурального дерева та майстерність ручної роботи. Фасади виготовлені з масиву дуба з елементами різьблення, що надає кухні вишуканого аристократичного вигляду. Патинування у золотистий відтінок підкреслює рельєф та текстуру дерева. Стільниця з натурального граніту забезпечує довговічність та естетику. Кожна деталь цієї кухні створена з увагою до традицій класичного меблярства.',
      price: 120000,
      category: 'kitchen',
      image: 'img/product/2.jpg',
      specs: [
        { label: 'Матеріал фасадів', value: 'Масив дуба' },
        { label: 'Стільниця', value: 'Натуральний граніт, 40 мм' },
        { label: 'Фурнітура', value: 'Hettich (Німеччина)' },
        { label: 'Довжина', value: '3.8 м (П-подібна)' },
        { label: 'Гарантія', value: '7 років' },
        { label: 'Термін виготовлення', value: '45-60 робочих днів' },
      ],
      features: ['Різьблення ручної роботи', 'Патинування у золотистий відтінок', 'Вітрини з LED-підсвіткою', 'Кам\'яна мийка в комплекті'],
    },
    {
      id: 3,
      title: 'Шафа-купе "Комфорт"',
      description: 'Вбудована шафа-купе з дзеркальними дверима та LED-підсвіткою.',
      fullDescription: 'Шафа-купе "Комфорт" — максимально ефективне використання простору вашої кімнати. Вбудована конструкція займає нішу від стіни до стіни, не залишаючи мертвих зон. Дзеркальні двері візуально розширюють приміщення та слугують повноцінним дзеркалом. Внутрішнє наповнення проєктується індивідуально: секції для довгого та короткого одягу, полиці, висувні ящики, кошики для аксесуарів та вбудоване LED-освітлення з датчиком відкривання.',
      price: 45000,
      category: 'furniture',
      image: 'img/services/k4.jpg',
      specs: [
        { label: 'Матеріал корпусу', value: 'ЛДСП Egger 18 мм' },
        { label: 'Двері', value: 'Дзеркало 4 мм + алюмінієвий профіль' },
        { label: 'Система розсування', value: 'Raumplus (Німеччина)' },
        { label: 'Ширина', value: '2.4 м (3 двері)' },
        { label: 'Гарантія', value: '5 років' },
        { label: 'Термін виготовлення', value: '20-25 робочих днів' },
      ],
      features: ['Дзеркальні двері на всю висоту', 'LED-підсвітка з датчиком', 'Індивідуальне наповнення', 'Тихий хід дверей'],
    },
    {
      id: 4,
      title: 'Комод "Скандинавія"',
      description: 'Комод з масиву сосни у скандинавському стилі з висувними ящиками.',
      fullDescription: 'Комод "Скандинавія" — це мінімалізм, натуральність та функціональність у кращих скандинавських традиціях. Виготовлений з масиву сосни з олійним покриттям, що зберігає природну текстуру та аромат дерева. Чотири просторі висувні ящики з прихованими напрямними забезпечують плавне та безшумне відкривання. Компактні розміри дозволяють розмістити комод у спальні, вітальні або передпокої.',
      price: 18500,
      category: 'furniture',
      image: 'img/services/m4.jpg',
      specs: [
        { label: 'Матеріал', value: 'Масив сосни' },
        { label: 'Покриття', value: 'Натуральна олія' },
        { label: 'Розміри', value: '120 × 45 × 85 см' },
        { label: 'Кількість ящиків', value: '4' },
        { label: 'Гарантія', value: '3 роки' },
        { label: 'Термін виготовлення', value: '14-20 робочих днів' },
      ],
      features: ['Масив натуральної сосни', 'Приховані напрямні', 'Олійне покриття (екологічне)', 'Ніжки з можливістю регулювання'],
    },
    {
      id: 5,
      title: 'Стільниця з кварцу',
      description: 'Стільниця преміум-класу з натурального кварцу, стійка до подряпин.',
      fullDescription: 'Стільниця з натурального кварцу — це інвестиція у довговічність та красу вашої кухні. Кварцова поверхня складається на 93% з натурального кварцу та 7% полімерних смол, що робить її надзвичайно міцною. Непориста структура не вбирає рідини, жири та барвники — стільниця залишається ідеально чистою роками. Широкий вибір кольорів та текстур: від класичного білого мармуру до чорного граніту.',
      price: 12000,
      category: 'accessories',
      image: 'img/services/p4.jpg',
      specs: [
        { label: 'Матеріал', value: 'Кварцовий агломерат' },
        { label: 'Товщина', value: '20 мм / 30 мм' },
        { label: 'Кольори', value: '25+ варіантів' },
        { label: 'Ціна', value: 'За погонний метр' },
        { label: 'Гарантія', value: '10 років' },
        { label: 'Термін виготовлення', value: '7-10 робочих днів' },
      ],
      features: ['Стійкість до подряпин та ударів', 'Не вбирає рідини та жири', 'Термостійкість до 150°C', 'Безшовне з\'єднання'],
    },
    {
      id: 6,
      title: 'Фурнітура Blum',
      description: 'Комплект фурнітури Blum для кухонних шаф з системою плавного закривання.',
      fullDescription: 'Фурнітура Blum — це австрійська якість, перевірена десятиліттями. Комплект включає все необхідне для оснащення кухні: петлі з інтегрованим доводчиком Blumotion, висувні системи Tandembox для ящиків та підйомні механізми Aventos для верхніх шаф. Кожен елемент розрахований на мінімум 200 000 циклів відкривання-закривання. Ергономічний дизайн забезпечує легкий доступ до вмісту шаф навіть за мінімального зусилля.',
      price: 8500,
      category: 'accessories',
      image: 'img/product/1.jpg',
      specs: [
        { label: 'Виробник', value: 'Blum (Австрія)' },
        { label: 'Комплектація', value: 'Петлі + ящики + підйомники' },
        { label: 'Ресурс', value: '200 000+ циклів' },
        { label: 'Система', value: 'Blumotion (плавне закривання)' },
        { label: 'Гарантія', value: 'Довічна' },
        { label: 'Колір', value: 'Нікель / Антрацит / Білий' },
      ],
      features: ['Плавне закривання Blumotion', 'Повне висування ящиків', 'Підйомний механізм Aventos', 'Довічна гарантія виробника'],
    },
  ];

  constructor(private route: ActivatedRoute, private title: Title, private meta: Meta) {}

  ngOnInit() {
    const id = Number(this.route.snapshot.paramMap.get('id'));
    this.product = this.products.find(p => p.id === id) || this.products[0];
    this.title.setTitle(`${this.product.title} — Demchuk Denys`);
    this.meta.updateTag({ name: 'description', content: this.product.fullDescription.substring(0, 160) });
    this.meta.updateTag({ property: 'og:title', content: this.product.title });
    this.meta.updateTag({ property: 'og:description', content: this.product.fullDescription.substring(0, 160) });
  }
}
